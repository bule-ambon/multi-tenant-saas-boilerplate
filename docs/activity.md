# Activity Log

- Added register UI flow, token refresh handling, and auth session tests.
- Fixed register response schema to accept UUID IDs.
- Added HTTPS dev setup with self-signed certs and enabled React Router future flags.
- Configured Vite HMR to connect over WSS through nginx.
- Added client group and entity membership models/migration with a client-only uniqueness constraint.
- Aligned architecture and requirements docs with the current FastAPI + React stack.
- Added RLS policies and role constraints for client group memberships.
- Added a helper script to seed the global client role.
- Updated agent workflow to allow routine command execution without asking.
- Ran the client role seed script; alembic upgrade failed due to existing client_groups table.
- Inspected database schema for client group tables; RLS policies are missing and alembic is still at 001.
- Stamped alembic to 002, applied 003, and aligned client group relationships to avoid ORM overlap warnings.
- Verified RLS policies exist for client group tables and roles.slug has a unique constraint.
- Enforced tenant UUID header parsing, added access helpers, and added access-check unit tests (pytest unavailable locally).
- Wired tenant header validation into tenant endpoints and ran access tests in the backend container.
- Added entity + QBO connection models, migrations, endpoints, and tests for the 1:1 realm constraint.
- Added client group CRUD/membership endpoints and integration tests for visibility and membership constraints.
- Adjusted pytest-asyncio setup and disposed the async engine in tests to avoid loop reuse errors.
- Added QBO import run persistence, OAuth connect flow, Celery ingestion worker, and persistence/API updates for trial balance snapshots plus metadata tests.
- Fixed the `create_import_run` signature so the backend process can start, which restored the login API and removed the infinite loop the UI was seeing.
- Added env-driven Vite HMR host config plus docker compose vars so local dev sockets use whichever hostname is served (localhost during direct dev, 192.168.4.53 behind nginx), fixing the NS_ERROR_WEBSOCKET_CONNECTION failures.
- Crafted a new MVP-focused homepage hero and immersive dashboard with client group, trial balance, reconciliation, and roll-up summaries plus the supporting layout/styles.
- Installed frontend dependencies and ran the production build to ensure the new UI compiles cleanly (`npm install` / `npm run build`).
- Addressed reported vulnerabilities by running `npm audit` and `npm audit fix --force`, then rebuilt (`npm run build`) to verify the new Vite/Vitest majors still compile.
